---
import classes from "../styles/components/PostPreviewIndex.module.scss";
import FormattedDate from "../components/FormattedDate.astro";
import Tag from "../components/Tag.astro";

const {
  title,
  author,
  summary,
  pubDate,
  heroImage,
  heroImageAltText,
  tags,
  slug,
} = Astro.props;
---

<div class={classes["post-item"]}>
  {
    heroImage && (
      <div class={classes["post-img"]}>
        {/* #TODO: change hero images for better placeholders*/}
        <a href={`${slug}`}>
          <img src="https://placehold.co/300x200" alt={heroImageAltText} />
        </a>
      </div>
    )
  }
  <div class={classes["post-info"]}>
    <h2 class={classes["post-title"]}><a href={`${slug}`}>{title}</a></h2>
    <FormattedDate date={pubDate} />
    <p>{summary}</p>
    <div class={classes["post-tags"]}>
      {tags && tags.map((tag: String) => <Tag key={tag} tag={tag} />)}
    </div>
  </div>
</div>
