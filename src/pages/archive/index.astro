---
import BaseLayout from "../../layouts/BaseLayout.astro";
import ArchivePanel from "../../components/ArchiveFilter";
import classes from "../styles/pages/index.module.scss";

import { getCollection } from "astro:content";

// const posts = (await getCollection("posts")).sort(
// 	(a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
// );

const posts = (await getCollection("posts")).map((post) => {
	return {
		...post.data,
		slug: post.slug
	}
});
---

<BaseLayout>
	<ArchivePanel client:load postsCollection={posts} />
</BaseLayout>
